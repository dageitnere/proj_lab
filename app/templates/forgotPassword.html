<!DOCTYPE html><html lang="lv"><head>
<meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Paroles atjaunošana</title>
<style>
body{font-family:system-ui,Arial;max-width:420px;margin:6rem auto;padding:0 1rem}
form{display:grid;gap:.75rem}label{display:grid;gap:.25rem}
input{padding:.6rem .7rem;border:1px solid #bbb;border-radius:.5rem}
button{padding:.7rem .9rem;border:0;border-radius:.6rem;background:#2255ee;color:#fff;cursor:pointer}
.msg{min-height:1.2rem;margin-top:.5rem}.ok{color:#0a7a26}.err{color:#b40018}
</style>
</head><body>
<h1>Aizmirsi paroli?</h1>
<form id="f">
  <label>E-pasts <input name="email" type="email" required></label>
  <button type="submit">Sūtīt saiti</button>
  <div id="m" class="msg"></div>
</form>
<p style="margin-top:.5rem"><a href="/auth/login">Atpakaļ uz login</a></p>
<script>
const f=document.getElementById('f'), m=document.getElementById('m');
f.addEventListener('submit', async (e)=>{
  e.preventDefault(); m.textContent='';
  const r=await fetch('/auth/forgot-password/start',{method:'POST',headers:{'Content-Type':'application/json'},
    body: JSON.stringify({email: f.email.value.trim()})});
  m.textContent = r.ok ? 'Ja e-pasts eksistē, saite nosūtīta.' : 'Neizdevās';
  m.className='msg ' + (r.ok ? 'ok' : 'err');
});
</script>
</body></html>
